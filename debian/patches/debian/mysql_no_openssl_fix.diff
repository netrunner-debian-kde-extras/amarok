From: Modestas Vainius <modestas@vainius.eu>
Subject: [PATCH] OpenSSL is not needed to link against mysql(e) library

Fix link libraries for MySQL(e) from Debian.

Signed-off-by: Modestas Vainius <modestas@vainius.eu>

---
 src/collection/mysqlecollection/CMakeLists.txt     |    3 ---
 .../mysqlservercollection/CMakeLists.txt           |    3 ---
 2 files changed, 0 insertions(+), 6 deletions(-)

diff --git a/src/collection/mysqlecollection/CMakeLists.txt b/src/collection/mysqlecollection/CMakeLists.txt
index 3d28353..7c0dca9 100755
--- a/src/collection/mysqlecollection/CMakeLists.txt
+++ b/src/collection/mysqlecollection/CMakeLists.txt
@@ -13,7 +13,6 @@ include_directories(
         ${KDE4_INCLUDE_DIR}
         ${STRIGI_INCLUDE_DIR}
         ${QT_INCLUDES}
-	${OPENSSL_INCLUDE_DIR}
         ${MYSQL_INCLUDE_DIR}
         ${TAGLIB_INCLUDES}
         ${TAGLIB-EXTRAS_INCLUDES}
@@ -67,7 +66,6 @@ target_link_libraries(amarok_collection-mysqlecollection
     ${KDE4_KDEUI_LIBS}
     ${KDE4_KIO_LIBS}
     ${KDE4_THREADWEAVER_LIBRARIES}
-    ${OPENSSL_LIBRARIES}
     ${MYSQL_EMBEDDED_LIBRARIES}
     ${CMAKE_DL_LIBS}
     ${ZLIB_LIBRARIES}
@@ -76,7 +74,6 @@ target_link_libraries(amarok_collection-mysqlecollection
 )
 
 if(NOT WIN32)
-    target_link_libraries(amarok_collection-mysqlecollection crypto ssl)
     if(NOT APPLE)
         target_link_libraries(amarok_collection-mysqlecollection crypt pthread)
     endif(NOT APPLE)
diff --git a/src/collection/mysqlservercollection/CMakeLists.txt b/src/collection/mysqlservercollection/CMakeLists.txt
index 8686ff2..8365b16 100755
--- a/src/collection/mysqlservercollection/CMakeLists.txt
+++ b/src/collection/mysqlservercollection/CMakeLists.txt
@@ -13,7 +13,6 @@ include_directories(
         ${KDE4_INCLUDE_DIR}
         ${STRIGI_INCLUDE_DIR}
         ${QT_INCLUDES}
-	${OPENSSL_INCLUDE_DIR}
         ${MYSQL_INCLUDE_DIR}
         ${TAGLIB_INCLUDES}
         ${TAGLIB-EXTRAS_INCLUDES}
@@ -67,7 +66,6 @@ target_link_libraries(amarok_collection-mysqlservercollection
     ${KDE4_KDEUI_LIBS}
     ${KDE4_KIO_LIBS}
     ${KDE4_THREADWEAVER_LIBRARIES}
-    ${OPENSSL_LIBRARIES}
     ${MYSQL_LIBRARIES}
     ${CMAKE_DL_LIBS}
     ${ZLIB_LIBRARIES}
@@ -76,7 +74,6 @@ target_link_libraries(amarok_collection-mysqlservercollection
 )
 
 if(NOT WIN32)
-    target_link_libraries(amarok_collection-mysqlservercollection crypto ssl)
     if(NOT APPLE)
         target_link_libraries(amarok_collection-mysqlservercollection crypt pthread)
     endif(NOT APPLE)
-- 
tg: (ef61bc6..) debian/mysql_no_openssl_fix (depends on: upstream)
